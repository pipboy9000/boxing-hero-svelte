var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(t,e,n){t.$$.on_destroy.push(c(e,n))}function a(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function p(){return m("")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e,n){t.classList[n?"add":"remove"](e)}let w;function x(t){w=t}function b(){if(!w)throw new Error("Function called outside component initialization");return w}function k(t){b().$$.on_mount.push(t)}function E(t){b().$$.on_destroy.push(t)}function M(){const t=b();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const O=[],_=[],G=[],S=[],C=Promise.resolve();let j=!1;function z(){j||(j=!0,C.then(q))}function A(){return z(),C}function L(t){G.push(t)}function R(t){S.push(t)}let P=!1;const I=new Set;function q(){if(!P){P=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];x(e),F(e.$$)}for(O.length=0;_.length;)_.pop()();for(let t=0;t<G.length;t+=1){const e=G[t];I.has(e)||(I.add(e),e())}G.length=0}while(O.length);for(;S.length;)S.pop()();j=!1,P=!1,I.clear()}}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const N=new Set;let D;function B(){D={r:0,c:[],p:D}}function H(){D.r||o(D.c),D=D.p}function W(t,e){t&&t.i&&(N.delete(t),t.i(e))}function X(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),D.c.push(()=>{N.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function Y(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function J(t){t&&t.c()}function K(t,n,s){const{fragment:c,on_mount:i,on_destroy:a,after_update:l}=t.$$;c&&c.m(n,s),L(()=>{const n=i.map(e).filter(r);a?a.push(...n):o(n),t.$$.on_mount=[]}),l.forEach(L)}function Q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(e,r,s,c,i,a,l=[-1]){const f=w;x(e);const d=r.props||{},m=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:l};let h=!1;if(m.ctx=s?s(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=r)&&(m.bound[t]&&m.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(O.push(t),z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],m.update(),h=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&W(e.$$.fragment),K(e,r.target,r.anchor),q()}x(f)}class V{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const Z=[];function tt(t,e){return{subscribe:et(t,e).subscribe}}function et(e,n=t){let o;const r=[];function c(t){if(s(e,t)&&(e=t,o)){const t=!Z.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),Z.push(n,e)}if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(s,i=t){const a=[s,i];return r.push(a),1===r.length&&(o=n(c)||t),s(e),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function nt(e,n,s){const i=!Array.isArray(e),a=i?[e]:e,l=n.length<2;return tt(s,e=>{let s=!1;const u=[];let f=0,d=t;const m=()=>{if(f)return;d();const o=n(i?u[0]:u,e);l?e(o):d=r(o)?o:t},h=a.map((t,e)=>c(t,t=>{u[e]=t,f&=~(1<<e),s&&m()},()=>{f|=1<<e}));return s=!0,m(),function(){o(h),d()}})}function ot(t){let e,n,o;var r=t[0];return r&&(e=new r({}),e.$on("routeEvent",t[5])),{c(){e&&J(e.$$.fragment),n=p()},m(t,r){e&&K(e,t,r),l(t,n,r),o=!0},p(t,o){if(r!==(r=t[0])){if(e){B();const t=e;X(t.$$.fragment,1,0,()=>{Q(t,1)}),H()}r?(e=new r({}),e.$on("routeEvent",t[5]),J(e.$$.fragment),W(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}},i(t){o||(e&&W(e.$$.fragment,t),o=!0)},o(t){e&&X(e.$$.fragment,t),o=!1},d(t){t&&u(n),e&&Q(e,t)}}}function rt(t){let e,n,o;var r=t[0];function s(t){return{props:{params:t[1]}}}return r&&(e=new r(s(t)),e.$on("routeEvent",t[4])),{c(){e&&J(e.$$.fragment),n=p()},m(t,r){e&&K(e,t,r),l(t,n,r),o=!0},p(t,o){const c={};if(2&o&&(c.params=t[1]),r!==(r=t[0])){if(e){B();const t=e;X(t.$$.fragment,1,0,()=>{Q(t,1)}),H()}r?(e=new r(s(t)),e.$on("routeEvent",t[4]),J(e.$$.fragment),W(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else r&&e.$set(c)},i(t){o||(e&&W(e.$$.fragment,t),o=!0)},o(t){e&&X(e.$$.fragment,t),o=!1},d(t){t&&u(n),e&&Q(e,t)}}}function st(t){let e,n,o,r;const s=[rt,ot],c=[];function i(t,e){return t[1]?0:1}return e=i(t),n=c[e]=s[e](t),{c(){n.c(),o=p()},m(t,n){c[e].m(t,n),l(t,o,n),r=!0},p(t,[r]){let a=e;e=i(t),e===a?c[e].p(t,r):(B(),X(c[a],1,1,()=>{c[a]=null}),H(),n=c[e],n||(n=c[e]=s[e](t),n.c()),W(n,1),n.m(o.parentNode,o))},i(t){r||(W(n),r=!0)},o(t){X(n),r=!1},d(t){c[e].d(t),t&&u(o)}}}function ct(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const it=tt(null,(function(t){t(ct());const e=()=>{t(ct())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}})),at=nt(it,t=>t.location);nt(it,t=>t.querystring);function lt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");return A().then(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t})}function ut(e,n,o){let r,s=t;i(e,it,t=>o(6,r=t)),e.$$.on_destroy.push(()=>s());let{routes:c={}}=n,{prefix:a=""}=n;class l{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,r,s,c=[],i="",a=t.split("/");for(a[0]||a.shift();r=a.shift();)"*"===(n=r[0])?(c.push("wild"),i+="/(.*)"):":"===n?(o=r.indexOf("?",1),s=r.indexOf(".",1),c.push(r.substring(1,~o?o:~s?s:r.length)),i+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(i+=(~o?"?":"")+"\\"+r.substring(s))):i+="/"+r;return{keys:c,pattern:new RegExp("^"+i+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=o}match(t){a&&t.startsWith(a)&&(t=t.substr(a.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;)n[this._keys[o]]=e[++o]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const u=[];c instanceof Map?c.forEach((t,e)=>{u.push(new l(e,t))}):Object.keys(c).forEach(t=>{u.push(new l(t,c[t]))});let f=null,d=null;const m=M(),h=(t,e)=>{A().then(()=>{m(t,e)})};return e.$set=t=>{"routes"in t&&o(2,c=t.routes),"prefix"in t&&o(3,a=t.prefix)},e.$$.update=()=>{if(65&e.$$.dirty){o(0,f=null);let t=0;for(;!f&&t<u.length;){const e=u[t].match(r.location);if(e){const n={component:u[t].component,name:u[t].component.name,location:r.location,querystring:r.querystring,userData:u[t].userData};if(!u[t].checkConditions(n)){h("conditionsFailed",n);break}o(0,f=u[t].component),e&&"object"==typeof e&&Object.keys(e).length?o(1,d=e):o(1,d=null),h("routeLoaded",n)}t++}}},[f,d,c,a,function(t){T(e,t)},function(t){T(e,t)}]}class ft extends V{constructor(t){super(),U(this,t,ut,st,s,{routes:2,prefix:3})}}function dt(e){let n,r,s,c,i,d,m,p,$,y,w,x,b,k,E,M,T;return{c(){n=f("div"),r=f("div"),s=h(),c=f("hr"),i=h(),d=f("div"),m=f("div"),m.textContent="Workout",p=h(),$=f("div"),$.textContent="Free Style",y=h(),w=f("div"),w.textContent="Reaction",x=h(),b=f("div"),b.textContent="Calibrate",k=h(),E=f("hr"),g(r,"class","logo svelte-1kywzxi"),g(c,"class","svelte-1kywzxi"),g(m,"class","item svelte-1kywzxi"),g($,"class","item svelte-1kywzxi"),g(w,"class","item svelte-1kywzxi"),g(b,"class","item svelte-1kywzxi"),g(d,"class","items svelte-1kywzxi"),g(E,"class","svelte-1kywzxi"),g(n,"id","menu"),g(n,"class","menu svelte-1kywzxi")},m(t,o){l(t,n,o),a(n,r),a(n,s),a(n,c),a(n,i),a(n,d),a(d,m),a(d,p),a(d,$),a(d,y),a(d,w),a(d,x),a(d,b),a(n,k),a(n,E),M||(T=[v(m,"click",e[0]),v($,"click",e[1]),v(w,"click",e[2]),v(b,"click",e[3])],M=!0)},p:t,i:t,o:t,d(t){t&&u(n),M=!1,o(T)}}}function mt(t){return[()=>lt("/game"),()=>lt("/freestyle"),()=>lt("/reaction"),()=>lt("/calibrate")]}function ht(e){let n,o,r,s,c,i;return{c(){n=f("div"),o=f("div"),r=m(e[0]),s=h(),c=d("svg"),i=d("circle"),g(o,"class","timerSeconds svelte-dxz60w"),g(i,"class","timerCircle svelte-dxz60w"),g(i,"cx","55"),g(i,"cy","55"),g(i,"r","50"),g(i,"pathLength","100"),g(c,"viewBox","0 0 110 110"),g(c,"preserveAspectRatio","xMidYMid meet"),g(c,"class","svelte-dxz60w"),g(n,"class","timer svelte-dxz60w")},m(t,u){l(t,n,u),a(n,o),a(o,r),a(n,s),a(n,c),a(c,i),e[3](i)},p(t,[e]){1&e&&$(r,t[0])},i:t,o:t,d(t){t&&u(n),e[3](null)}}}function pt(t,e,n){const o=M();let r,s,c=0;function i(){n(0,c--,c),0==c?o("end"):r=setTimeout(i,1e3)}return k(()=>{o("loaded")}),[c,s,function(t){r&&clearInterval(r),n(0,c=t),n(1,s.style.transition="",s),n(1,s.style.strokeDashoffset=0,s),setTimeout(()=>{s&&(n(1,s.style.transition="stroke-dashoffset "+t+"s linear, stroke "+t+"s linear",s),n(1,s.style.strokeDashoffset=-99,s))},100),r=setTimeout(i,1e3)},function(t){_[t?"unshift":"push"](()=>{s=t,n(1,s)})}]}class vt extends V{constructor(t){super(),U(this,t,pt,ht,s,{setTime:2})}get setTime(){return this.$$.ctx[2]}}const gt=et(localStorage.getItem("hitTarget")||15);function $t(e){let n,o,r,s,c,i,d=e[0]-1+"",p=Math.round(e[1])+"";return{c(){n=f("div"),o=m(d),r=m("X"),s=h(),c=f("div"),i=m(p),g(n,"class","combo svelte-oip6t6"),g(c,"class","score svelte-oip6t6")},m(t,u){l(t,n,u),a(n,o),a(n,r),e[5](n),l(t,s,u),l(t,c,u),a(c,i)},p(t,[e]){1&e&&d!==(d=t[0]-1+"")&&$(o,d),2&e&&p!==(p=Math.round(t[1])+"")&&$(i,p)},i:t,o:t,d(t){t&&u(n),e[5](null),t&&u(s),t&&u(c)}}}function yt(t,e,n){let o,{score:r}=e,{combo:s=0}=e,c=0,i=!1;function a(){i&&(Math.abs(c-r)>.1&&n(1,c+=(r-c)/15),requestAnimationFrame(a))}return k(()=>{i=!0,requestAnimationFrame(a)}),E(()=>{i=!1}),t.$set=t=>{"score"in t&&n(3,r=t.score),"combo"in t&&n(0,s=t.combo)},t.$$.update=()=>{5&t.$$.dirty&&o&&(s>2&&(n(2,o.style.opacity=1,o),n(2,o.style.transform=`translate(-50%, -50%) scale(${1+s/10})`,o)),0==s&&(n(2,o.style.opacity=0,o),n(2,o.style.transform="translate(-50%, -50%) scale(1)",o)))},[s,c,o,r,function(){n(3,r=0),n(1,c=0)},function(t){_[t?"unshift":"push"](()=>{o=t,n(2,o),n(0,s)})}]}gt.subscribe(t=>{localStorage.setItem("hitTarget",t)});class wt extends V{constructor(t){super(),U(this,t,yt,$t,s,{score:3,combo:0,reset:4})}get reset(){return this.$$.ctx[4]}}function xt(e){let n,o,r,s,c,i,d,p,y,w,x,b,k,E,M,T,O,_,G,S,C=Math.round(e[0])+"",j=Math.round(e[1])+"";return{c(){n=f("div"),o=f("h1"),o.textContent="Game Over",r=h(),s=f("div"),c=f("div"),i=f("h2"),i.textContent="Score:",d=h(),p=f("div"),y=m(C),w=h(),x=f("div"),b=f("h2"),b.textContent="Top Score:",k=h(),E=f("div"),M=m(j),T=h(),O=f("div"),_=f("button"),_.textContent="Restart",g(o,"class","svelte-1sv4oro"),g(i,"class","svelte-1sv4oro"),g(p,"class","svelte-1sv4oro"),g(c,"class","score svelte-1sv4oro"),g(b,"class","svelte-1sv4oro"),g(E,"class","svelte-1sv4oro"),g(x,"class","score svelte-1sv4oro"),g(s,"class","scores svelte-1sv4oro"),g(_,"class","restart svelte-1sv4oro"),g(O,"class","bottom svelte-1sv4oro"),g(n,"class","bg svelte-1sv4oro")},m(t,u){l(t,n,u),a(n,o),a(n,r),a(n,s),a(s,c),a(c,i),a(c,d),a(c,p),a(p,y),a(s,w),a(s,x),a(x,b),a(x,k),a(x,E),a(E,M),a(n,T),a(n,O),a(O,_),G||(S=v(_,"click",e[2]),G=!0)},p(t,[e]){1&e&&C!==(C=Math.round(t[0])+"")&&$(y,C),2&e&&j!==(j=Math.round(t[1])+"")&&$(M,j)},i:t,o:t,d(t){t&&u(n),G=!1,S()}}}function bt(t,e,n){const o=M();let r,{score:s}=e,{gameType:c}=e;return k(()=>{!function(){switch(c){case"normal":n(1,r=+localStorage.getItem("topScoreNormal")||0);break;case"freestyle":n(1,r=+localStorage.getItem("topScoreFreestyle")||0);break;case"reaction":n(1,r=+localStorage.getItem("topScoreReaction")||0)}}()}),t.$set=t=>{"score"in t&&n(0,s=t.score),"gameType"in t&&n(3,c=t.gameType)},t.$$.update=()=>{3&t.$$.dirty&&s>r&&(n(1,r=s),function(){switch(c){case"normal":localStorage.setItem("topScoreNormal",r);break;case"freestyle":localStorage.setItem("topScoreFreestyle",r);break;case"reaction":localStorage.setItem("topScoreReaction",r)}}())},[s,r,function(){o("restart")},c]}class kt extends V{constructor(t){super(),U(this,t,bt,xt,s,{score:0,gameType:3})}}function Et(e){let n;return{c(){n=f("canvas"),g(n,"class","effects svelte-1my46pf")},m(t,o){l(t,n,o),e[3](n)},p:t,i:t,o:t,d(t){t&&u(n),e[3](null)}}}function Mt(t,e,n){let o,r,s=!1,c=[],i=window.innerWidth,a=window.innerHeight,l=0,u="255,255,255";function f(){c.forEach(t=>{t.active&&(t.x+=t.vx,t.y+=t.vy,t.vx*=.96,t.vy=.96*t.vy+1,t.age+=1,t.age>20&&(t.active=!1))}),o&&r.clearRect(0,0,o.width,o.height),l>0&&(l*=.93,l<.01&&(l=0)),r.fillStyle=`rgba(${u},${l})`,r.fillRect(0,0,i,a),r.globalCompositeOperation="overlay",c.forEach(t=>{if(t.active){r.beginPath();let e=t.age/20;r.fillStyle="rgb(255, 255, 255)",r.arc(t.x,t.y,3-3*e,0,2*Math.PI),r.fill()}}),s&&requestAnimationFrame(f)}return k(()=>{s=!0,r=o.getContext("2d"),n(0,o.width=i,o),n(0,o.height=a,o),function(){for(let t=0;t<200;t++){let t={x:0,y:0,vx:0,vy:0,age:0,active:!1};c.push(t)}}(),requestAnimationFrame(f)}),E(()=>{s=!1}),[o,function(t,e,n){for(let o=0;o<t;o++){let t=c.find(t=>!t.active);if(!t)return;t.x=i/2+e*Math.random()*50,t.y=a/2+n*Math.random()*50,t.vx=e+10*Math.random()-5,t.vy=n+10*Math.random()-5,t.active=!0,t.age=0}},function(t,e){u=e,l+=t},function(t){_[t?"unshift":"push"](()=>{o=t,n(0,o)})}]}class Tt extends V{constructor(t){super(),U(this,t,Mt,Et,s,{spawnParticles:1,flash:2})}get spawnParticles(){return this.$$.ctx[1]}get flash(){return this.$$.ctx[2]}}function Ot(t){let e,n,o;function r(e){t[20].call(null,e)}let s={score:t[5]};return void 0!==t[0]&&(s.gameType=t[0]),e=new kt({props:s}),_.push(()=>Y(e,"gameType",r)),e.$on("restart",t[12]),{c(){J(e.$$.fragment)},m(t,n){K(e,t,n),o=!0},p(t,o){const r={};32&o&&(r.score=t[5]),!n&&1&o&&(n=!0,r.gameType=t[0],R(()=>n=!1)),e.$set(r)},i(t){o||(W(e.$$.fragment,t),o=!0)},o(t){X(e.$$.fragment,t),o=!1},d(t){Q(e,t)}}}function _t(t){let e,n,o,r,s,c,i,d,p,y,w,x,b,k,E,M,T,O,_,G,S,C,j,z,A,L,R,P,I,q=(0==t[10]?1:t[10])+"";n=new Tt({props:{}}),t[15](n);let F={score:t[5],combo:t[8]};k=new wt({props:F}),t[16](k);O=new vt({props:{}}),t[17](O),O.$on("end",t[13]);let N=t[1]==t[11].GameOver&&Ot(t);return{c(){e=f("div"),J(n.$$.fragment),o=h(),r=f("div"),s=f("div"),c=m("Level "),i=m(q),d=h(),p=f("div"),y=m(t[4]),w=h(),x=f("div"),b=m("Score:\r\n      "),J(k.$$.fragment),E=h(),M=f("div"),T=f("div"),J(O.$$.fragment),_=h(),G=f("div"),S=f("div"),C=f("div"),j=f("div"),z=h(),A=f("div"),L=h(),N&&N.c(),g(s,"class","level svelte-1excd9j"),g(p,"class","msg svelte-1excd9j"),g(x,"class","score svelte-1excd9j"),g(r,"class","texts svelte-1excd9j"),g(T,"class","timer svelte-1excd9j"),g(M,"class","middle svelte-1excd9j"),g(j,"class","hpColor svelte-1excd9j"),g(A,"class","barHighlight svelte-1excd9j"),g(C,"class","hp svelte-1excd9j"),g(S,"class","hpContainer svelte-1excd9j"),g(G,"class","bottom svelte-1excd9j"),g(e,"class","game svelte-1excd9j")},m(u,f){l(u,e,f),K(n,e,null),a(e,o),a(e,r),a(r,s),a(s,c),a(s,i),a(r,d),a(r,p),a(p,y),a(r,w),a(r,x),a(x,b),K(k,x,null),a(e,E),a(e,M),a(M,T),K(O,T,null),a(e,_),a(e,G),a(G,S),a(S,C),a(C,j),t[18](j),a(C,z),a(C,A),t[19](C),a(e,L),N&&N.m(e,null),R=!0,P||(I=v(e,"click",t[14]),P=!0)},p(t,[o]){n.$set({}),(!R||1024&o)&&q!==(q=(0==t[10]?1:t[10])+"")&&$(i,q),(!R||16&o)&&$(y,t[4]);const r={};32&o&&(r.score=t[5]),256&o&&(r.combo=t[8]),k.$set(r);O.$set({}),t[1]==t[11].GameOver?N?(N.p(t,o),2&o&&W(N,1)):(N=Ot(t),N.c(),W(N,1),N.m(e,null)):N&&(B(),X(N,1,1,()=>{N=null}),H())},i(t){R||(W(n.$$.fragment,t),W(k.$$.fragment,t),W(O.$$.fragment,t),W(N),R=!0)},o(t){X(n.$$.fragment,t),X(k.$$.fragment,t),X(O.$$.fragment,t),X(N),R=!1},d(o){o&&u(e),t[15](null),Q(n),t[16](null),Q(k),t[17](null),Q(O),t[18](null),t[19](null),N&&N.d(),P=!1,I()}}}function Gt(t,e,n){let o;i(t,gt,t=>n(26,o=t));const r={GetReady:0,Playing:1,GameOver:2};let s,c,a,l,u,f,d,m,h,p,v,g,$="normal",y=r.GameOver,w=0,x=0;function b(){n(5,l=0),n(8,w=0),v=45,g=45,n(10,p=0),n(2,s.style.width="100%",s),n(3,c.style.backgroundColor="#62ff00",c),window.addEventListener("devicemotion",G,!0),M(3),u.reset()}function M(t){n(1,y=r.GetReady),n(4,a="Get Ready!!"),n(2,s.style.width="100%",s),n(3,c.style.backgroundColor="#62ff00",c),d=T,n(10,p++,p),f.setTime(t)}function T(){y!=r.GameOver&&(n(1,y=r.Playing),g=45+5*p,v=g,n(4,a="GO!!!"),d=O,f.setTime(30+3*(p-1)))}function O(){n(1,y=r.GameOver),window.removeEventListener("devicemotion",G,!0)}function G(t){if(x>0)return void x--;let e=t.acceleration.x,i=t.acceleration.y,a=t.acceleration.z,u=Math.sqrt(e*e+i*i+a*a);if(y==r.Playing){if(x=15,u<2)return;u/=o,v-=u;let t=100*u;m&&clearInterval(m),m=setTimeout(()=>{n(8,w=0)},400),n(8,w++,w),w>2&&(t*=w-1),n(5,l+=t),v<0&&(v=0);let r=v/g;if(n(2,s.style.width=100*r+"%",s),n(3,c.style.backgroundColor=`hsl(${Math.floor(120*r)},100%,60%)`,c),h.spawnParticles(w>2?6:2,e,i),w>2){let t=255-w/8*128,e=`255,${t},${t}`;h.flash(.2,e)}else h.flash(.2,"255,255,255");0==v&&M(10+3*p)}}return k(()=>{b()}),E(()=>{O()}),[$,y,s,c,a,l,u,f,w,h,p,r,b,function(){d()},function(){G({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),x=0},function(t){_[t?"unshift":"push"](()=>{h=t,n(9,h)})},function(t){_[t?"unshift":"push"](()=>{u=t,n(6,u)})},function(t){_[t?"unshift":"push"](()=>{f=t,n(7,f)})},function(t){_[t?"unshift":"push"](()=>{c=t,n(3,c)})},function(t){_[t?"unshift":"push"](()=>{s=t,n(2,s)})},function(t){$=t,n(0,$)}]}function St(e){let n,r,s,c,i,d,p,$,y,w,x,b,k;return{c(){n=f("div"),r=f("div"),s=f("div"),c=h(),i=f("img"),p=h(),$=f("div"),y=m("-\r\n    "),w=f("input"),x=m("\r\n    +"),g(s,"class","hitCircle svelte-1d7c1jk"),i.src!==(d="images/glove.png")&&g(i,"src","images/glove.png"),g(i,"alt","Hit Me!"),g(i,"class","svelte-1d7c1jk"),g(r,"class","hit svelte-1d7c1jk"),g(w,"type","range"),g(w,"min","1"),g(w,"max","30"),g(w,"step","1"),g(w,"class","svelte-1d7c1jk"),g($,"class","slider svelte-1d7c1jk"),g(n,"class","calibrate svelte-1d7c1jk")},m(t,o){l(t,n,o),a(n,r),a(r,s),e[5](s),a(r,c),a(r,i),e[6](i),a(n,p),a(n,$),a($,y),a($,w),e[7](w),a($,x),b||(k=[v(w,"change",e[3]),v(n,"click",e[4])],b=!0)},p:t,i:t,o:t,d(t){t&&u(n),e[5](null),e[6](null),e[7](null),b=!1,o(k)}}}function Ct(t,e,n){let o,r,s;i(t,gt,t=>n(12,o=t));let c,a,l,u=0;function f(t){let e=t.acceleration.x,n=t.acceleration.y,r=t.acceleration.z,c=Math.sqrt(e*e+n*n+r*r);if(c>2){s=c;let t=c/o;t>.9&&t<1.1&&(u=30)}u--}function d(){if(!c)return;let t=s/o;n(1,a.style.transform=u>28?"scale(1)":t>.01?`scale(${t})`:"scale(0)",a),n(2,l.style.border=u>0?"15px solid #1dff4f":"",l),s*=.875,requestAnimationFrame(d)}return k(async()=>{window.addEventListener("devicemotion",f,!0),c=!0,n(0,r.value=31-o,r),d()}),E(()=>{window.removeEventListener("devicemotion",f,!0),c=!1}),[r,a,l,function(t){gt.set(31-t.target.value)},function(){f({acceleration:{x:10*Math.random()-5+10,y:0,z:0}}),setTimeout(()=>{u=0},500)},function(t){_[t?"unshift":"push"](()=>{a=t,n(1,a)})},function(t){_[t?"unshift":"push"](()=>{l=t,n(2,l)})},function(t){_[t?"unshift":"push"](()=>{r=t,n(0,r)})}]}function jt(t){let e,n;return e=new kt({props:{score:t[2]}}),e.$on("restart",t[8]),{c(){J(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.score=t[2]),e.$set(o)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function zt(t){let e,n,o,r,s,c,i,d,p,y,w,x,b,k,E,M;n=new Tt({props:{}}),t[11](n);let T={score:t[2],combo:t[5]};p=new wt({props:T}),t[12](p);x=new vt({props:{}}),t[13](x),x.$on("end",t[9]);let O=t[0]==t[7].GameOver&&jt(t);return{c(){e=f("div"),J(n.$$.fragment),o=h(),r=f("div"),s=m(t[1]),c=h(),i=f("div"),d=m("Score:\r\n    "),J(p.$$.fragment),y=h(),w=f("div"),J(x.$$.fragment),b=h(),O&&O.c(),g(r,"class","msg svelte-13c98iy"),g(i,"class","score svelte-13c98iy"),g(w,"class","timer svelte-13c98iy"),g(e,"class","game svelte-13c98iy")},m(u,f){l(u,e,f),K(n,e,null),a(e,o),a(e,r),a(r,s),a(e,c),a(e,i),a(i,d),K(p,i,null),a(e,y),a(e,w),K(x,w,null),a(e,b),O&&O.m(e,null),k=!0,E||(M=v(e,"click",t[10]),E=!0)},p(t,[o]){n.$set({}),(!k||2&o)&&$(s,t[1]);const r={};4&o&&(r.score=t[2]),32&o&&(r.combo=t[5]),p.$set(r);x.$set({}),t[0]==t[7].GameOver?O?(O.p(t,o),1&o&&W(O,1)):(O=jt(t),O.c(),W(O,1),O.m(e,null)):O&&(B(),X(O,1,1,()=>{O=null}),H())},i(t){k||(W(n.$$.fragment,t),W(p.$$.fragment,t),W(x.$$.fragment,t),W(O),k=!0)},o(t){X(n.$$.fragment,t),X(p.$$.fragment,t),X(x.$$.fragment,t),X(O),k=!1},d(o){o&&u(e),t[11](null),Q(n),t[12](null),Q(p),t[13](null),Q(x),O&&O.d(),E=!1,M()}}}function At(t,e,n){let o;i(t,gt,t=>n(17,o=t));const r={GetReady:0,Playing:1,GameOver:2};let s,c,a,l,u,f,d,m=r.GameOver,h=0,p=0;function v(){n(2,c=0),n(5,h=0),window.addEventListener("devicemotion",y,!0),n(0,m=r.GetReady),n(1,s="Get Ready!!"),u=g,l.setTime(3),a.reset()}function g(){n(0,m=r.Playing),n(1,s="GO!!!"),u=$,l.setTime(120)}function $(){n(0,m=r.GameOver),window.removeEventListener("devicemotion",y,!0)}function y(t){if(p>0)return void p--;let e=t.acceleration.x,s=t.acceleration.y,i=t.acceleration.z,a=Math.sqrt(e*e+s*s+i*i);if(m==r.Playing){if(p=15,a<2)return;a/=o;let t=100*a;if(h>2&&(t*=h-1),n(2,c+=t),d.spawnParticles(h>2?6:2,e,s),f&&clearInterval(f),f=setTimeout(()=>{n(5,h=0)},400),n(5,h++,h),h>2){let t=255-h/8*128,e=`255,${t},${t}`;d.flash(.2,e)}else d.flash(.2,"255,255,255")}}return k(()=>{v()}),E(()=>{$()}),[m,s,c,a,l,h,d,r,v,function(){u()},function(){y({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),p=0},function(t){_[t?"unshift":"push"](()=>{d=t,n(6,d)})},function(t){_[t?"unshift":"push"](()=>{a=t,n(3,a)})},function(t){_[t?"unshift":"push"](()=>{l=t,n(4,l)})}]}function Lt(t){let e,n,o;function r(e){t[15].call(null,e)}let s={score:t[3]};return void 0!==t[0]&&(s.gameType=t[0]),e=new kt({props:s}),_.push(()=>Y(e,"gameType",r)),e.$on("restart",t[9]),{c(){J(e.$$.fragment)},m(t,n){K(e,t,n),o=!0},p(t,o){const r={};8&o&&(r.score=t[3]),!n&&1&o&&(n=!0,r.gameType=t[0],R(()=>n=!1)),e.$set(r)},i(t){o||(W(e.$$.fragment,t),o=!0)},o(t){X(e.$$.fragment,t),o=!1},d(t){Q(e,t)}}}function Rt(t){let e,n,o,r,s,c,i,d,p,w,x,b,k,E,M,T,O,_,G,S,C,j,z,A=Math.round(t[3])+"";k=new vt({props:{}}),t[13](k),k.$on("end",t[10]);G=new Tt({props:{}}),t[14](G);let L=t[1]==t[8].GameOver&&Lt(t);return{c(){e=f("div"),n=f("div"),o=m(t[2]),r=h(),s=f("div"),s.textContent="+125",c=h(),i=f("div"),d=m("Score: "),p=m(A),w=h(),x=f("div"),b=f("div"),J(k.$$.fragment),E=h(),M=f("div"),T=h(),O=f("div"),_=h(),J(G.$$.fragment),S=h(),L&&L.c(),g(n,"class","msg svelte-u9t8nf"),g(s,"class","scorePop svelte-u9t8nf"),g(i,"class","score svelte-u9t8nf"),g(b,"class","timer svelte-u9t8nf"),g(M,"class","target svelte-u9t8nf"),y(M,"green",t[7]),y(M,"red",!t[7]),g(O,"class","green svelte-u9t8nf"),g(x,"class","targetContainer svelte-u9t8nf"),g(e,"class","game svelte-u9t8nf")},m(u,f){l(u,e,f),a(e,n),a(n,o),a(e,r),a(e,s),t[12](s),a(e,c),a(e,i),a(i,d),a(i,p),a(e,w),a(e,x),a(x,b),K(k,b,null),a(x,E),a(x,M),a(x,T),a(x,O),a(e,_),K(G,e,null),a(e,S),L&&L.m(e,null),C=!0,j||(z=v(e,"mousedown",t[11]),j=!0)},p(t,[n]){(!C||4&n)&&$(o,t[2]),(!C||8&n)&&A!==(A=Math.round(t[3])+"")&&$(p,A);k.$set({}),128&n&&y(M,"green",t[7]),128&n&&y(M,"red",!t[7]);G.$set({}),t[1]==t[8].GameOver?L?(L.p(t,n),2&n&&W(L,1)):(L=Lt(t),L.c(),W(L,1),L.m(e,null)):L&&(B(),X(L,1,1,()=>{L=null}),H())},i(t){C||(W(k.$$.fragment,t),W(G.$$.fragment,t),W(L),C=!0)},o(t){X(k.$$.fragment,t),X(G.$$.fragment,t),X(L),C=!1},d(n){n&&u(e),t[12](null),t[13](null),Q(k),t[14](null),Q(G),L&&L.d(),j=!1,z()}}}function Pt(t,e,n){const o={GetReady:0,Playing:1,GameOver:2};let r,s,c,i,a,l,u,f,d,m="reaction",h=o.GameOver,p=0,v=!1;function g(){n(3,s=0),window.addEventListener("devicemotion",b,!0),n(1,h=o.GetReady),n(2,r="Get Ready!!"),a=$,i.setTime(3)}function $(){n(1,h=o.Playing),n(2,r="GO!!!"),a=x,i.setTime(120),y()}function y(){f&&clearTimeout(f),n(7,v=!1);let t=.3+2*Math.random();u=setTimeout(w,1e3*t)}function w(){u&&clearTimeout(u),n(7,v=!0),d=performance.now();f=setTimeout(y,1200)}function x(){n(1,h=o.GameOver),window.removeEventListener("devicemotion",b,!0),clearTimeout(f),clearTimeout(u)}function b(t){if(p>0)return void p--;let e=t.acceleration.x,r=t.acceleration.y,i=t.acceleration.z,a=Math.sqrt(e*e+r*r+i*i);if(h==o.Playing){if(p=15,a<2)return;let t;v?(t=(1500-(performance.now()-d))/1500*150,console.log(t),y()):t=-100,n(3,s+=t),u=t,n(4,c.innerHTML=Math.round(u),c),c.classList.remove("scoreAnim"),setTimeout(()=>{c.classList.add("scoreAnim")},10),l.spawnParticles(4,e,r),l.flash(.2,"255,255,255")}var u}return k(()=>{g()}),E(()=>{x()}),[m,h,r,s,c,i,l,v,o,g,function(){a()},function(){b({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),p=0},function(t){_[t?"unshift":"push"](()=>{c=t,n(4,c)})},function(t){_[t?"unshift":"push"](()=>{i=t,n(5,i)})},function(t){_[t?"unshift":"push"](()=>{l=t,n(6,l)})},function(t){m=t,n(0,m)}]}const It={"/":class extends V{constructor(t){super(),U(this,t,mt,dt,s,{})}},"/game":class extends V{constructor(t){super(),U(this,t,Gt,_t,s,{})}},"/calibrate":class extends V{constructor(t){super(),U(this,t,Ct,St,s,{})}},"/freestyle":class extends V{constructor(t){super(),U(this,t,At,zt,s,{})}},"/reaction":class extends V{constructor(t){super(),U(this,t,Pt,Rt,s,{})}}};function qt(e){let n,o,r;return{c(){n=f("div"),n.textContent="X",g(n,"class","backBtn svelte-1tcxnmr")},m(t,s){l(t,n,s),o||(r=v(n,"click",e[2]),o=!0)},p:t,d(t){t&&u(n),o=!1,r()}}}function Ft(t){let e,n,o,r,s,c,i,a,d;e=new ft({props:{routes:It}});let m=t[0]&&qt(t);return{c(){J(e.$$.fragment),n=h(),o=f("img"),s=h(),m&&m.c(),c=p(),g(o,"class","fullScreenBtn svelte-1tcxnmr"),o.src!==(r="../images/full_screen_icon.svg")&&g(o,"src","../images/full_screen_icon.svg"),g(o,"alt","full screen button")},m(r,u){K(e,r,u),l(r,n,u),l(r,o,u),l(r,s,u),m&&m.m(r,u),l(r,c,u),i=!0,a||(d=v(o,"click",t[1]),a=!0)},p(t,[e]){t[0]?m?m.p(t,e):(m=qt(t),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i(t){i||(W(e.$$.fragment,t),i=!0)},o(t){X(e.$$.fragment,t),i=!1},d(t){Q(e,t),t&&u(n),t&&u(o),t&&u(s),m&&m.d(t),t&&u(c),a=!1,d()}}}function Nt(t,e,n){let o,r,s;i(t,at,t=>n(4,o=t)),at.subscribe(t=>{n(0,s=t.split("/")[1])}),k(async()=>{n(0,s=o.split("/")[1]),s&&(await function(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");return A().then(()=>{const e=("#"==t.charAt(0)?"":"#")+t;try{window.history.replaceState(void 0,void 0,e)}catch(t){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))})}("/"),lt("/"+s))});return[s,async function(){r?(document.exitFullscreen(),r=!1):(document.body.requestFullscreen(),r=!0)},()=>A().then(()=>{window.history.back()})]}return new class extends V{constructor(t){super(),U(this,t,Nt,Ft,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
