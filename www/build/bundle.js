var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(e,t,n){e.$$.on_destroy.push(c(t,n))}function a(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function p(){return m("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t,n){e.classList[n?"add":"remove"](t)}let w;function b(e){w=e}function x(){if(!w)throw new Error("Function called outside component initialization");return w}function k(e){x().$$.on_mount.push(e)}function E(e){x().$$.on_destroy.push(e)}function T(){const e=x();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,r)})}}}function O(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const M=[],_=[],C=[],G=[],S=Promise.resolve();let z=!1;function P(){z||(z=!0,S.then(j))}function R(){return P(),S}function A(e){C.push(e)}function I(e){G.push(e)}let L=!1;const q=new Set;function j(){if(!L){L=!0;do{for(let e=0;e<M.length;e+=1){const t=M[e];b(t),F(t.$$)}for(M.length=0;_.length;)_.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];q.has(t)||(q.add(t),t())}C.length=0}while(M.length);for(;G.length;)G.pop()();z=!1,L=!1,q.clear()}}function F(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}const N=new Set;let D;function B(){D={r:0,c:[],p:D}}function X(){D.r||o(D.c),D=D.p}function H(e,t){e&&e.i&&(N.delete(e),e.i(t))}function W(e,t,n,o){if(e&&e.o){if(N.has(e))return;N.add(e),D.c.push(()=>{N.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function J(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function K(e){e&&e.c()}function Q(e,n,s){const{fragment:c,on_mount:i,on_destroy:a,after_update:l}=e.$$;c&&c.m(n,s),A(()=>{const n=i.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]}),l.forEach(A)}function U(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,r,s,c,i,a,l=[-1]){const f=w;b(t);const d=r.props||{},m=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:l};let h=!1;if(m.ctx=s?s(t,d,(e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=r)&&(m.bound[e]&&m.bound[e](r),h&&function(e,t){-1===e.$$.dirty[0]&&(M.push(e),P(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],m.update(),h=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(u)}else m.fragment&&m.fragment.c();r.intro&&H(t.$$.fragment),Q(t,r.target,r.anchor),j()}b(f)}class Y{$destroy(){U(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const Z=[];function ee(e,t){return{subscribe:te(e,t).subscribe}}function te(t,n=e){let o;const r=[];function c(e){if(s(t,e)&&(t=e,o)){const e=!Z.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),Z.push(n,t)}if(e){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(s,i=e){const a=[s,i];return r.push(a),1===r.length&&(o=n(c)||e),s(t),()=>{const e=r.indexOf(a);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}function ne(t,n,s){const i=!Array.isArray(t),a=i?[t]:t,l=n.length<2;return ee(s,t=>{let s=!1;const u=[];let f=0,d=e;const m=()=>{if(f)return;d();const o=n(i?u[0]:u,t);l?t(o):d=r(o)?o:e},h=a.map((e,t)=>c(e,e=>{u[t]=e,f&=~(1<<t),s&&m()},()=>{f|=1<<t}));return s=!0,m(),function(){o(h),d()}})}function oe(e){let t,n,o;var r=e[0];return r&&(t=new r({}),t.$on("routeEvent",e[5])),{c(){t&&K(t.$$.fragment),n=p()},m(e,r){t&&Q(t,e,r),l(e,n,r),o=!0},p(e,o){if(r!==(r=e[0])){if(t){B();const e=t;W(e.$$.fragment,1,0,()=>{U(e,1)}),X()}r?(t=new r({}),t.$on("routeEvent",e[5]),K(t.$$.fragment),H(t.$$.fragment,1),Q(t,n.parentNode,n)):t=null}},i(e){o||(t&&H(t.$$.fragment,e),o=!0)},o(e){t&&W(t.$$.fragment,e),o=!1},d(e){e&&u(n),t&&U(t,e)}}}function re(e){let t,n,o;var r=e[0];function s(e){return{props:{params:e[1]}}}return r&&(t=new r(s(e)),t.$on("routeEvent",e[4])),{c(){t&&K(t.$$.fragment),n=p()},m(e,r){t&&Q(t,e,r),l(e,n,r),o=!0},p(e,o){const c={};if(2&o&&(c.params=e[1]),r!==(r=e[0])){if(t){B();const e=t;W(e.$$.fragment,1,0,()=>{U(e,1)}),X()}r?(t=new r(s(e)),t.$on("routeEvent",e[4]),K(t.$$.fragment),H(t.$$.fragment,1),Q(t,n.parentNode,n)):t=null}else r&&t.$set(c)},i(e){o||(t&&H(t.$$.fragment,e),o=!0)},o(e){t&&W(t.$$.fragment,e),o=!1},d(e){e&&u(n),t&&U(t,e)}}}function se(e){let t,n,o,r;const s=[re,oe],c=[];function i(e,t){return e[1]?0:1}return t=i(e),n=c[t]=s[t](e),{c(){n.c(),o=p()},m(e,n){c[t].m(e,n),l(e,o,n),r=!0},p(e,[r]){let a=t;t=i(e),t===a?c[t].p(e,r):(B(),W(c[a],1,1,()=>{c[a]=null}),X(),n=c[t],n||(n=c[t]=s[t](e),n.c()),H(n,1),n.m(o.parentNode,o))},i(e){r||(H(n),r=!0)},o(e){W(n),r=!1},d(e){c[t].d(e),e&&u(o)}}}function ce(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let o="";return n>-1&&(o=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:o}}const ie=ee(null,(function(e){e(ce());const t=()=>{e(ce())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}})),ae=ne(ie,e=>e.location);ne(ie,e=>e.querystring);function le(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");return R().then(()=>{window.location.hash=("#"==e.charAt(0)?"":"#")+e})}function ue(){return R().then(()=>{window.history.back()})}function fe(t,n,o){let r,s=e;i(t,ie,e=>o(6,r=e)),t.$$.on_destroy.push(()=>s());let{routes:c={}}=n,{prefix:a=""}=n;class l{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:o}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,o,r,s,c=[],i="",a=e.split("/");for(a[0]||a.shift();r=a.shift();)"*"===(n=r[0])?(c.push("wild"),i+="/(.*)"):":"===n?(o=r.indexOf("?",1),s=r.indexOf(".",1),c.push(r.substring(1,~o?o:~s?s:r.length)),i+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(i+=(~o?"?":"")+"\\"+r.substring(s))):i+="/"+r;return{keys:c,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.route,this.conditions=t.conditions||[],this.userData=t.userData):(this.component=t,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=o}match(e){a&&e.startsWith(a)&&(e=e.substr(a.length)||"/");const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let o=0;for(;o<this._keys.length;)n[this._keys[o]]=t[++o]||null;return n}checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!this.conditions[t](e))return!1;return!0}}const u=[];c instanceof Map?c.forEach((e,t)=>{u.push(new l(t,e))}):Object.keys(c).forEach(e=>{u.push(new l(e,c[e]))});let f=null,d=null;const m=T(),h=(e,t)=>{R().then(()=>{m(e,t)})};return t.$set=e=>{"routes"in e&&o(2,c=e.routes),"prefix"in e&&o(3,a=e.prefix)},t.$$.update=()=>{if(65&t.$$.dirty){o(0,f=null);let e=0;for(;!f&&e<u.length;){const t=u[e].match(r.location);if(t){const n={component:u[e].component,name:u[e].component.name,location:r.location,querystring:r.querystring,userData:u[e].userData};if(!u[e].checkConditions(n)){h("conditionsFailed",n);break}o(0,f=u[e].component),t&&"object"==typeof t&&Object.keys(t).length?o(1,d=t):o(1,d=null),h("routeLoaded",n)}e++}}},[f,d,c,a,function(e){O(t,e)},function(e){O(t,e)}]}class de extends Y{constructor(e){super(),V(this,e,fe,se,s,{routes:2,prefix:3})}}function me(t){let n,r,s,c,i,d,m,p,$,y,w,b,x,k,E;return{c(){n=f("div"),r=f("div"),s=h(),c=f("hr"),i=h(),d=f("div"),m=f("div"),m.textContent="Normal",p=h(),$=f("div"),$.textContent="Free Style",y=h(),w=f("div"),w.textContent="Calibrate",b=h(),x=f("hr"),g(r,"class","logo svelte-1ssh224"),g(c,"class","svelte-1ssh224"),g(m,"class","item svelte-1ssh224"),g($,"class","item svelte-1ssh224"),g(w,"class","item svelte-1ssh224"),g(d,"class","items svelte-1ssh224"),g(x,"class","svelte-1ssh224"),g(n,"id","menu"),g(n,"class","menu svelte-1ssh224")},m(e,o){l(e,n,o),a(n,r),a(n,s),a(n,c),a(n,i),a(n,d),a(d,m),a(d,p),a(d,$),a(d,y),a(d,w),a(n,b),a(n,x),k||(E=[v(m,"click",t[0]),v($,"click",t[1]),v(w,"click",t[2])],k=!0)},p:e,i:e,o:e,d(e){e&&u(n),k=!1,o(E)}}}function he(e){return[()=>le("/game"),()=>le("/freestyle"),()=>le("/calibrate")]}function pe(t){let n,o,r,s,c,i;return{c(){n=f("div"),o=f("div"),r=m(t[1]),s=h(),c=d("svg"),i=d("circle"),g(o,"class","timerSeconds svelte-145jl5u"),g(i,"class","timerCircle svelte-145jl5u"),g(i,"cx","55"),g(i,"cy","55"),g(i,"r","50"),g(i,"pathLength","100"),g(c,"width","110"),g(c,"height","110"),g(n,"class","timer svelte-145jl5u"),y(n,"freestyle","freestyle"==t[0]),y(n,"reaction","reaction"==t[0])},m(e,u){l(e,n,u),a(n,o),a(o,r),a(n,s),a(n,c),a(c,i),t[4](i)},p(e,[t]){2&t&&$(r,e[1]),1&t&&y(n,"freestyle","freestyle"==e[0]),1&t&&y(n,"reaction","reaction"==e[0])},i:e,o:e,d(e){e&&u(n),t[4](null)}}}function ve(e,t,n){let{gameType:o="normal"}=t;const r=T();let s,c,i=0;function a(){n(1,i--,i),0==i?r("end"):s=setTimeout(a,1e3)}return k(()=>{r("loaded")}),e.$set=e=>{"gameType"in e&&n(0,o=e.gameType)},[o,i,c,function(e){s&&clearInterval(s),n(1,i=e),n(2,c.style.transition="",c),n(2,c.style.strokeDashoffset=0,c),setTimeout(()=>{c&&(n(2,c.style.transition="stroke-dashoffset "+e+"s linear, stroke "+e+"s linear",c),n(2,c.style.strokeDashoffset=-99,c))},100),s=setTimeout(a,1e3)},function(e){_[e?"unshift":"push"](()=>{c=e,n(2,c)})}]}class ge extends Y{constructor(e){super(),V(this,e,ve,pe,s,{gameType:0,setTime:3})}get setTime(){return this.$$.ctx[3]}}const $e=te(localStorage.getItem("hitTarget")||15);function ye(t){let n,o,r,s,c,i,d=t[0]-1+"",p=Math.round(t[1])+"";return{c(){n=f("div"),o=m(d),r=m("X"),s=h(),c=f("div"),i=m(p),g(n,"class","combo svelte-oip6t6"),g(c,"class","score svelte-oip6t6")},m(e,u){l(e,n,u),a(n,o),a(n,r),t[5](n),l(e,s,u),l(e,c,u),a(c,i)},p(e,[t]){1&t&&d!==(d=e[0]-1+"")&&$(o,d),2&t&&p!==(p=Math.round(e[1])+"")&&$(i,p)},i:e,o:e,d(e){e&&u(n),t[5](null),e&&u(s),e&&u(c)}}}function we(e,t,n){let o,{score:r}=t,{combo:s=0}=t,c=0,i=!1;function a(){i&&(Math.abs(c-r)>.1&&n(1,c+=(r-c)/15),requestAnimationFrame(a))}return k(()=>{i=!0,requestAnimationFrame(a)}),E(()=>{i=!1}),e.$set=e=>{"score"in e&&n(3,r=e.score),"combo"in e&&n(0,s=e.combo)},e.$$.update=()=>{5&e.$$.dirty&&o&&(s>2&&(n(2,o.style.opacity=1,o),n(2,o.style.transform=`translate(-50%, -50%) scale(${1+s/10})`,o)),0==s&&(n(2,o.style.opacity=0,o),n(2,o.style.transform="translate(-50%, -50%) scale(1)",o)))},[s,c,o,r,function(){n(3,r=0),n(1,c=0)},function(e){_[e?"unshift":"push"](()=>{o=e,n(2,o),n(0,s)})}]}$e.subscribe(e=>{localStorage.setItem("hitTarget",e)});class be extends Y{constructor(e){super(),V(this,e,we,ye,s,{score:3,combo:0,reset:4})}get reset(){return this.$$.ctx[4]}}function xe(t){let n,o,r,s,c,i,d,p,y,w,b,x,k,E,T,O,M,_,C,G,S=Math.round(t[0])+"",z=Math.round(t[1])+"";return{c(){n=f("div"),o=f("h1"),o.textContent="Game Over",r=h(),s=f("div"),c=f("div"),i=f("h2"),i.textContent="Score:",d=h(),p=f("div"),y=m(S),w=h(),b=f("div"),x=f("h2"),x.textContent="Top Score:",k=h(),E=f("div"),T=m(z),O=h(),M=f("div"),_=f("button"),_.textContent="Restart",g(o,"class","svelte-1w2yvfw"),g(i,"class","svelte-1w2yvfw"),g(p,"class","svelte-1w2yvfw"),g(c,"class","score svelte-1w2yvfw"),g(x,"class","svelte-1w2yvfw"),g(E,"class","svelte-1w2yvfw"),g(b,"class","score svelte-1w2yvfw"),g(s,"class","scores svelte-1w2yvfw"),g(_,"class","restart svelte-1w2yvfw"),g(M,"class","bottom svelte-1w2yvfw"),g(n,"class","bg svelte-1w2yvfw")},m(e,u){l(e,n,u),a(n,o),a(n,r),a(n,s),a(s,c),a(c,i),a(c,d),a(c,p),a(p,y),a(s,w),a(s,b),a(b,x),a(b,k),a(b,E),a(E,T),a(n,O),a(n,M),a(M,_),C||(G=v(_,"click",t[2]),C=!0)},p(e,[t]){1&t&&S!==(S=Math.round(e[0])+"")&&$(y,S),2&t&&z!==(z=Math.round(e[1])+"")&&$(T,z)},i:e,o:e,d(e){e&&u(n),C=!1,G()}}}function ke(e,t,n){const o=T();let r,{score:s}=t,{gameType:c}=t;return k(()=>{!function(){switch(c){case"normal":n(1,r=+localStorage.getItem("topScoreNormal")||0);break;case"freestyle":n(1,r=+localStorage.getItem("topScoreFreestyle")||0);break;case"reaction":n(1,r=+localStorage.getItem("topScoreReaction")||0)}}()}),e.$set=e=>{"score"in e&&n(0,s=e.score),"gameType"in e&&n(3,c=e.gameType)},e.$$.update=()=>{3&e.$$.dirty&&s>r&&(n(1,r=s),function(){switch(c){case"normal":localStorage.setItem("topScoreNormal",r);break;case"freestyle":localStorage.setItem("topScoreFreestyle",r);break;case"reaction":localStorage.setItem("topScoreReaction",r)}}())},[s,r,function(){o("restart")},c]}class Ee extends Y{constructor(e){super(),V(this,e,ke,xe,s,{score:0,gameType:3})}}function Te(t){let n;return{c(){n=f("canvas"),g(n,"class","effects svelte-1my46pf")},m(e,o){l(e,n,o),t[3](n)},p:e,i:e,o:e,d(e){e&&u(n),t[3](null)}}}function Oe(e,t,n){let o,r,s=!1,c=[],i=window.innerWidth,a=window.innerHeight,l=0,u="255,255,255";function f(){c.forEach(e=>{e.active&&(e.x+=e.vx,e.y+=e.vy,e.vx*=.96,e.vy=.96*e.vy+1,e.age+=1,e.age>20&&(e.active=!1))}),o&&r.clearRect(0,0,o.width,o.height),l>0&&(l*=.93,l<.01&&(l=0)),r.fillStyle=`rgba(${u},${l})`,r.fillRect(0,0,i,a),r.globalCompositeOperation="overlay",c.forEach(e=>{if(e.active){r.beginPath();let t=e.age/20;r.fillStyle="rgb(255, 255, 255)",r.arc(e.x,e.y,3-3*t,0,2*Math.PI),r.fill()}}),s&&requestAnimationFrame(f)}return k(()=>{s=!0,r=o.getContext("2d"),n(0,o.width=i,o),n(0,o.height=a,o),function(){for(let e=0;e<200;e++){let e={x:0,y:0,vx:0,vy:0,age:0,active:!1};c.push(e)}}(),requestAnimationFrame(f)}),E(()=>{s=!1}),[o,function(e,t,n){for(let o=0;o<e;o++){let e=c.find(e=>!e.active);if(!e)return;e.x=i/2+t*Math.random()*50,e.y=a/2+n*Math.random()*50,e.vx=t+10*Math.random()-5,e.vy=n+10*Math.random()-5,e.active=!0,e.age=0}},function(e,t){u=t,l+=e},function(e){_[e?"unshift":"push"](()=>{o=e,n(0,o)})}]}class Me extends Y{constructor(e){super(),V(this,e,Oe,Te,s,{spawnParticles:1,flash:2})}get spawnParticles(){return this.$$.ctx[1]}get flash(){return this.$$.ctx[2]}}function _e(e){let t,n,o;function r(t){e[21].call(null,t)}let s={score:e[5]};return void 0!==e[0]&&(s.gameType=e[0]),t=new Ee({props:s}),_.push(()=>J(t,"gameType",r)),t.$on("restart",e[12]),{c(){K(t.$$.fragment)},m(e,n){Q(t,e,n),o=!0},p(e,o){const r={};32&o[0]&&(r.score=e[5]),!n&&1&o[0]&&(n=!0,r.gameType=e[0],I(()=>n=!1)),t.$set(r)},i(e){o||(H(t.$$.fragment,e),o=!0)},o(e){W(t.$$.fragment,e),o=!1},d(e){U(t,e)}}}function Ce(e){let t,n,r,s,c,i,d,p,y,w,b,x,k,E,T,O,M,_,C,G,S,z,P,R,A,I,L,q,j,F,N=(0==e[10]?1:e[10])+"";n=new Me({props:{}}),e[15](n);let D={score:e[5],combo:e[8]};E=new be({props:D}),e[16](E);M=new ge({props:{}}),e[17](M),M.$on("end",e[13]);let J=e[1]==e[11].GameOver&&_e(e);return{c(){t=f("div"),K(n.$$.fragment),r=h(),s=f("div"),c=f("div"),i=m("Level "),d=m(N),p=h(),y=f("div"),w=m(e[4]),b=h(),x=f("div"),k=m("Score:\r\n      "),K(E.$$.fragment),T=h(),O=f("div"),K(M.$$.fragment),_=h(),C=f("div"),G=f("div"),S=f("div"),z=f("div"),P=h(),R=f("div"),A=h(),I=f("div"),I.textContent="X",L=h(),J&&J.c(),g(c,"class","level svelte-6eyebz"),g(y,"class","msg svelte-6eyebz"),g(x,"class","score svelte-6eyebz"),g(s,"class","texts svelte-6eyebz"),g(O,"class","middle svelte-6eyebz"),g(z,"class","hpColor svelte-6eyebz"),g(R,"class","barHighlight svelte-6eyebz"),g(S,"class","hp svelte-6eyebz"),g(G,"class","hpContainer svelte-6eyebz"),g(C,"class","bottom svelte-6eyebz"),g(I,"class","backBtn svelte-6eyebz"),g(t,"class","game svelte-6eyebz")},m(o,u){l(o,t,u),Q(n,t,null),a(t,r),a(t,s),a(s,c),a(c,i),a(c,d),a(s,p),a(s,y),a(y,w),a(s,b),a(s,x),a(x,k),Q(E,x,null),a(t,T),a(t,O),Q(M,O,null),a(t,_),a(t,C),a(C,G),a(G,S),a(S,z),e[18](z),a(S,P),a(S,R),e[19](S),a(t,A),a(t,I),a(t,L),J&&J.m(t,null),q=!0,j||(F=[v(I,"click",e[20]),v(t,"click",e[14])],j=!0)},p(e,o){n.$set({}),(!q||1024&o[0])&&N!==(N=(0==e[10]?1:e[10])+"")&&$(d,N),(!q||16&o[0])&&$(w,e[4]);const r={};32&o[0]&&(r.score=e[5]),256&o[0]&&(r.combo=e[8]),E.$set(r);M.$set({}),e[1]==e[11].GameOver?J?(J.p(e,o),2&o[0]&&H(J,1)):(J=_e(e),J.c(),H(J,1),J.m(t,null)):J&&(B(),W(J,1,1,()=>{J=null}),X())},i(e){q||(H(n.$$.fragment,e),H(E.$$.fragment,e),H(M.$$.fragment,e),H(J),q=!0)},o(e){W(n.$$.fragment,e),W(E.$$.fragment,e),W(M.$$.fragment,e),W(J),q=!1},d(r){r&&u(t),e[15](null),U(n),e[16](null),U(E),e[17](null),U(M),e[18](null),e[19](null),J&&J.d(),j=!1,o(F)}}}function Ge(e,t,n){let o;i(e,$e,e=>n(27,o=e));const r={GetReady:0,Playing:1,GameOver:2};let s,c,a,l,u,f,d,m,h,p,v,g,$="normal",y=r.GameOver,w=0,b=0;function x(){n(5,l=0),n(8,w=0),v=45,g=45,n(10,p=0),n(2,s.style.width="100%",s),n(3,c.style.backgroundColor="#62ff00",c),window.addEventListener("devicemotion",C,!0),T(3),u.reset()}function T(e){n(1,y=r.GetReady),n(4,a="Get Ready!!"),n(2,s.style.width="100%",s),n(3,c.style.backgroundColor="#62ff00",c),d=O,n(10,p++,p),f.setTime(e)}function O(){y!=r.GameOver&&(n(1,y=r.Playing),g=45+5*p,v=g,n(4,a="GO!!!"),d=M,f.setTime(30+3*(p-1)))}function M(){n(1,y=r.GameOver),window.removeEventListener("devicemotion",C,!0)}function C(e){if(b>0)return void b--;let t=e.acceleration.x,i=e.acceleration.y,a=e.acceleration.z,u=Math.sqrt(t*t+i*i+a*a);if(y==r.Playing){if(b=15,u<2)return;u/=o,v-=u;let e=100*u;m&&clearInterval(m),m=setTimeout(()=>{n(8,w=0)},400),n(8,w++,w),w>2&&(e*=w-1),n(5,l+=e),v<0&&(v=0);let r=v/g;if(n(2,s.style.width=100*r+"%",s),n(3,c.style.backgroundColor=`hsl(${Math.floor(120*r)},100%,60%)`,c),h.spawnParticles(w>2?6:2,t,i),w>2){let e=255-w/8*128,t=`255,${e},${e}`;h.flash(.2,t)}else h.flash(.2,"255,255,255");0==v&&T(10+3*p)}}k(()=>{x()}),E(()=>{M()});return[$,y,s,c,a,l,u,f,w,h,p,r,x,function(){d()},function(){C({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),b=0},function(e){_[e?"unshift":"push"](()=>{h=e,n(9,h)})},function(e){_[e?"unshift":"push"](()=>{u=e,n(6,u)})},function(e){_[e?"unshift":"push"](()=>{f=e,n(7,f)})},function(e){_[e?"unshift":"push"](()=>{c=e,n(3,c)})},function(e){_[e?"unshift":"push"](()=>{s=e,n(2,s)})},()=>ue(),function(e){$=e,n(0,$)}]}function Se(t){let n,r,s,c,i,d,p,$,y,w,b,x,k,E,T;return{c(){n=f("div"),r=f("div"),s=f("div"),c=h(),i=f("img"),p=h(),$=f("div"),y=m("-\r\n    "),w=f("input"),b=m("\r\n    +"),x=h(),k=f("div"),k.textContent="X",g(s,"class","hitCircle svelte-1d03c5t"),i.src!==(d="images/glove.png")&&g(i,"src","images/glove.png"),g(i,"alt","Hit Me!"),g(i,"class","svelte-1d03c5t"),g(r,"class","hit svelte-1d03c5t"),g(w,"type","range"),g(w,"min","1"),g(w,"max","30"),g(w,"step","1"),g(w,"class","svelte-1d03c5t"),g($,"class","slider svelte-1d03c5t"),g(k,"class","backBtn svelte-1d03c5t"),g(n,"class","calibrate svelte-1d03c5t")},m(e,o){l(e,n,o),a(n,r),a(r,s),t[5](s),a(r,c),a(r,i),t[6](i),a(n,p),a(n,$),a($,y),a($,w),t[7](w),a($,b),a(n,x),a(n,k),E||(T=[v(w,"change",t[3]),v(k,"click",t[8]),v(n,"click",t[4])],E=!0)},p:e,i:e,o:e,d(e){e&&u(n),t[5](null),t[6](null),t[7](null),E=!1,o(T)}}}function ze(e,t,n){let o,r,s;i(e,$e,e=>n(13,o=e));let c,a,l,u=0;function f(e){let t=e.acceleration.x,n=e.acceleration.y,r=e.acceleration.z,c=Math.sqrt(t*t+n*n+r*r);if(c>2){s=c;let e=c/o;e>.9&&e<1.1&&(u=30)}u--}function d(){if(!c)return;let e=s/o;n(1,a.style.transform=u>28?"scale(1)":e>.01?`scale(${e})`:"scale(0)",a),n(2,l.style.border=u>0?"15px solid #1dff4f":"",l),s*=.875,requestAnimationFrame(d)}k(async()=>{window.addEventListener("devicemotion",f,!0),c=!0,n(0,r.value=31-o,r),d()}),E(()=>{window.removeEventListener("devicemotion",f,!0),c=!1});return[r,a,l,function(e){$e.set(31-e.target.value)},function(){f({acceleration:{x:10*Math.random()-5+10,y:0,z:0}}),setTimeout(()=>{u=0},500)},function(e){_[e?"unshift":"push"](()=>{a=e,n(1,a)})},function(e){_[e?"unshift":"push"](()=>{l=e,n(2,l)})},function(e){_[e?"unshift":"push"](()=>{r=e,n(0,r)})},()=>{ue()}]}function Pe(e){let t,n,o;function r(t){e[16].call(null,t)}let s={score:e[3]};return void 0!==e[0]&&(s.gameType=e[0]),t=new Ee({props:s}),_.push(()=>J(t,"gameType",r)),t.$on("restart",e[9]),{c(){K(t.$$.fragment)},m(e,n){Q(t,e,n),o=!0},p(e,o){const r={};8&o&&(r.score=e[3]),!n&&1&o&&(n=!0,r.gameType=e[0],I(()=>n=!1)),t.$set(r)},i(e){o||(H(t.$$.fragment,e),o=!0)},o(e){W(t.$$.fragment,e),o=!1},d(e){U(t,e)}}}function Re(e){let t,n,r,s,c,i,d,p,y,w,b,x,k,E,T,O,M;n=new Me({props:{}}),e[12](n);let _={score:e[3],combo:e[6]};y=new be({props:_}),e[13](y);let C={gameType:e[0]};b=new ge({props:C}),e[14](b),b.$on("end",e[10]);let G=e[1]==e[8].GameOver&&Pe(e);return{c(){t=f("div"),K(n.$$.fragment),r=h(),s=f("div"),c=m(e[2]),i=h(),d=f("div"),p=m("Score:\r\n    "),K(y.$$.fragment),w=h(),K(b.$$.fragment),x=h(),k=f("div"),k.textContent="X",E=h(),G&&G.c(),g(s,"class","msg svelte-apdrzf"),g(d,"class","score svelte-apdrzf"),g(k,"class","backBtn svelte-apdrzf"),g(t,"class","game svelte-apdrzf")},m(o,u){l(o,t,u),Q(n,t,null),a(t,r),a(t,s),a(s,c),a(t,i),a(t,d),a(d,p),Q(y,d,null),a(t,w),Q(b,t,null),a(t,x),a(t,k),a(t,E),G&&G.m(t,null),T=!0,O||(M=[v(k,"click",e[15]),v(t,"click",e[11])],O=!0)},p(e,[o]){n.$set({}),(!T||4&o)&&$(c,e[2]);const r={};8&o&&(r.score=e[3]),64&o&&(r.combo=e[6]),y.$set(r);const s={};1&o&&(s.gameType=e[0]),b.$set(s),e[1]==e[8].GameOver?G?(G.p(e,o),2&o&&H(G,1)):(G=Pe(e),G.c(),H(G,1),G.m(t,null)):G&&(B(),W(G,1,1,()=>{G=null}),X())},i(e){T||(H(n.$$.fragment,e),H(y.$$.fragment,e),H(b.$$.fragment,e),H(G),T=!0)},o(e){W(n.$$.fragment,e),W(y.$$.fragment,e),W(b.$$.fragment,e),W(G),T=!1},d(r){r&&u(t),e[12](null),U(n),e[13](null),U(y),e[14](null),U(b),G&&G.d(),O=!1,o(M)}}}function Ae(e,t,n){let o;i(e,$e,e=>n(20,o=e));const r={GetReady:0,Playing:1,GameOver:2};let s,c,a,l,u,f,d,m="freestyle",h=r.GameOver,p=0,v=0;function g(){n(3,c=0),n(6,p=0),window.addEventListener("devicemotion",w,!0),n(1,h=r.GetReady),n(2,s="Get Ready!!"),u=$,l.setTime(3),a.reset()}function $(){n(1,h=r.Playing),n(2,s="GO!!!"),u=y,l.setTime(120)}function y(){n(1,h=r.GameOver),window.removeEventListener("devicemotion",w,!0)}function w(e){if(v>0)return void v--;let t=e.acceleration.x,s=e.acceleration.y,i=e.acceleration.z,a=Math.sqrt(t*t+s*s+i*i);if(h==r.Playing){if(v=15,a<2)return;a/=o;let e=100*a;if(p>2&&(e*=p-1),n(3,c+=e),d.spawnParticles(p>2?6:2,t,s),f&&clearInterval(f),f=setTimeout(()=>{n(6,p=0)},400),n(6,p++,p),p>2){let e=255-p/8*128,t=`255,${e},${e}`;d.flash(.2,t)}else d.flash(.2,"255,255,255")}}k(()=>{g()}),E(()=>{y()});return[m,h,s,c,a,l,p,d,r,g,function(){u()},function(){w({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),v=0},function(e){_[e?"unshift":"push"](()=>{d=e,n(7,d)})},function(e){_[e?"unshift":"push"](()=>{a=e,n(4,a)})},function(e){_[e?"unshift":"push"](()=>{l=e,n(5,l)})},()=>ue(),function(e){m=e,n(0,m)}]}function Ie(e){let t,n,o;function r(t){e[15].call(null,t)}let s={score:e[3]};return void 0!==e[0]&&(s.gameType=e[0]),t=new Ee({props:s}),_.push(()=>J(t,"gameType",r)),t.$on("restart",e[8]),{c(){K(t.$$.fragment)},m(e,n){Q(t,e,n),o=!0},p(e,o){const r={};8&o&&(r.score=e[3]),!n&&1&o&&(n=!0,r.gameType=e[0],I(()=>n=!1)),t.$set(r)},i(e){o||(H(t.$$.fragment,e),o=!0)},o(e){W(t.$$.fragment,e),o=!1},d(e){U(t,e)}}}function Le(e){let t,n,r,s,c,i,d,p,y,w,b,x,k,E,T,O,M,_,C,G,S,z;n=new Me({props:{}}),e[11](n);let P={gameType:e[0]};p=new ge({props:P}),e[12](p),p.$on("end",e[9]);let R={score:e[3]};O=new be({props:R}),e[13](O);let A=e[1]==e[7].GameOver&&Ie(e);return{c(){t=f("div"),K(n.$$.fragment),r=h(),s=f("div"),c=m(e[2]),i=h(),d=f("div"),K(p.$$.fragment),y=h(),w=f("div"),b=h(),x=f("div"),k=h(),E=f("div"),T=m("Score:\r\n    "),K(O.$$.fragment),M=h(),_=f("div"),_.textContent="X",C=h(),A&&A.c(),g(s,"class","msg svelte-1gfuo5r"),g(w,"class","target svelte-1gfuo5r"),g(x,"class","color svelte-1gfuo5r"),g(d,"class","targetContainer svelte-1gfuo5r"),g(E,"class","score svelte-1gfuo5r"),g(_,"class","backBtn svelte-1gfuo5r"),g(t,"class","game svelte-1gfuo5r")},m(o,u){l(o,t,u),Q(n,t,null),a(t,r),a(t,s),a(s,c),a(t,i),a(t,d),Q(p,d,null),a(d,y),a(d,w),a(d,b),a(d,x),a(t,k),a(t,E),a(E,T),Q(O,E,null),a(t,M),a(t,_),a(t,C),A&&A.m(t,null),G=!0,S||(z=[v(_,"click",e[14]),v(t,"click",e[10])],S=!0)},p(e,[o]){n.$set({}),(!G||4&o)&&$(c,e[2]);const r={};1&o&&(r.gameType=e[0]),p.$set(r);const s={};8&o&&(s.score=e[3]),O.$set(s),e[1]==e[7].GameOver?A?(A.p(e,o),2&o&&H(A,1)):(A=Ie(e),A.c(),H(A,1),A.m(t,null)):A&&(B(),W(A,1,1,()=>{A=null}),X())},i(e){G||(H(n.$$.fragment,e),H(p.$$.fragment,e),H(O.$$.fragment,e),H(A),G=!0)},o(e){W(n.$$.fragment,e),W(p.$$.fragment,e),W(O.$$.fragment,e),W(A),G=!1},d(r){r&&u(t),e[11](null),U(n),e[12](null),U(p),e[13](null),U(O),A&&A.d(),S=!1,o(z)}}}function qe(e,t,n){let o;i(e,$e,e=>n(18,o=e));const r={GetReady:0,Playing:1,GameOver:2};let s,c,a,l,u,f,d="reaction",m=r.GameOver,h=0;function p(){n(3,c=0),window.addEventListener("devicemotion",$,!0),a.reset(),n(1,m=r.GetReady),n(2,s="Get Ready!!"),u=v,l.setTime(1)}function v(){n(1,m=r.Playing),n(2,s="GO!!!"),u=g,l.setTime(120)}function g(){n(1,m=r.GameOver),window.removeEventListener("devicemotion",$,!0)}function $(e){if(h>0)return void h--;let t=e.acceleration.x,s=e.acceleration.y,i=e.acceleration.z,a=Math.sqrt(t*t+s*s+i*i);if(m==r.Playing){if(h=15,a<2)return;a/=o,n(3,c+=100*a),f.spawnParticles(4,t,s),f.flash(.2,"255,255,255")}}k(()=>{p()}),E(()=>{g()});return[d,m,s,c,a,l,f,r,p,function(){u()},function(){$({acceleration:{x:10*Math.random()-5,y:10*Math.random()-5,z:10*Math.random()-5}}),h=0},function(e){_[e?"unshift":"push"](()=>{f=e,n(6,f)})},function(e){_[e?"unshift":"push"](()=>{l=e,n(5,l)})},function(e){_[e?"unshift":"push"](()=>{a=e,n(4,a)})},()=>ue(),function(e){d=e,n(0,d)}]}const je={"/":class extends Y{constructor(e){super(),V(this,e,he,me,s,{})}},"/game":class extends Y{constructor(e){super(),V(this,e,Ge,Ce,s,{},[-1,-1])}},"/calibrate":class extends Y{constructor(e){super(),V(this,e,ze,Se,s,{})}},"/freestyle":class extends Y{constructor(e){super(),V(this,e,Ae,Re,s,{})}},"/reaction":class extends Y{constructor(e){super(),V(this,e,qe,Le,s,{})}}};function Fe(t){let n,o,r,s,c,i,a;return n=new de({props:{routes:je}}),{c(){K(n.$$.fragment),o=h(),r=f("img"),g(r,"class","fullScreenBtn svelte-d9ka2e"),r.src!==(s="../images/full_screen_icon.svg")&&g(r,"src","../images/full_screen_icon.svg"),g(r,"alt","full screen button")},m(e,s){Q(n,e,s),l(e,o,s),l(e,r,s),c=!0,i||(a=v(r,"click",t[0]),i=!0)},p:e,i(e){c||(H(n.$$.fragment,e),c=!0)},o(e){W(n.$$.fragment,e),c=!1},d(e){U(n,e),e&&u(o),e&&u(r),i=!1,a()}}}function Ne(e,t,n){let o,r;return i(e,ae,e=>n(2,o=e)),k(async()=>{let e=o.split("/")[1];e&&(await function(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");return R().then(()=>{const t=("#"==e.charAt(0)?"":"#")+e;try{window.history.replaceState(void 0,void 0,t)}catch(e){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))})}("/"),le("/"+e))}),[async function(){r?(document.exitFullscreen(),r=!1):(document.body.requestFullscreen(),r=!0)}]}return new class extends Y{constructor(e){super(),V(this,e,Ne,Fe,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
